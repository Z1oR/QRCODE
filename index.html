<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>peer-to-peer</title>
</head>
<body>
    <div class="main__screen" id="main__screen">
        <div class="container__main">
            <!-- Header Section -->
            <div class="main_header">
                <div class="header_top">
                    <div class="logo_section">
                        <img src="./image/marketimg.svg" alt="logo" class="main_logo">
                        <div class="logo_text">
                            <h1 class="app_title">P2P Маркет</h1>
                            <p class="app_subtitle">Безопасные сделки с криптовалютой</p>
                </div>
                </div>
            </div>

                <!-- User Balance Card -->
                <div class="balance_card" id="user-info-card">
                    <div class="balance_card_content">
                        <div class="balance_info">
                            <div class="balance_label_small">Ваш баланс</div>
                            <div class="balance_value">
                                <span class="balance_amount" id="user-balance">0.00</span>
                                <span class="balance_currency">USDT</span>
                    </div>
                </div>
                        <div class="user_avatar_small" id="user-avatar"></div>
                    </div>
                    <div class="balance_card_footer">
                        <span class="user_name" id="user-name">Загрузка...</span>
                        <div class="balance_footer_actions">
                            <button class="notifications_btn" id="notifications-btn" title="Уведомления">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                    <path d="M18 8A6 6 0 0 0 6 8C6 11.3137 3 14 3 17H21C21 14 18 11.3137 18 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="notifications_badge" id="notifications-badge" style="display: none;">0</span>
                            </button>
                            <button class="refresh_btn_small" id="refresh-balance-btn" title="Обновить">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M1 4V10H7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <path d="M23 20V14H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10M23 14L18.36 18.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick_actions">
                <button class="action_btn action_btn_buy" id="btn-for-buycrpyto">
                    <div class="action_btn_icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="action_btn_content">
                        <div class="action_btn_title">Купить</div>
                        <div class="action_btn_subtitle">Криптовалюту</div>
                    </div>
                    <div class="action_btn_arrow">→</div>
                </button>

                <button class="action_btn action_btn_sell" id="btn-for-sellcrpyto">
                    <div class="action_btn_icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 22L2 17L12 12L22 17L12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 7L12 2L22 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12L12 7L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="action_btn_content">
                        <div class="action_btn_title">Продать</div>
                        <div class="action_btn_subtitle">Криптовалюту</div>
                    </div>
                    <div class="action_btn_arrow">→</div>
                </button>
            </div>

            <!-- Menu Items -->
            <div class="menu_section">
                <div class="menu_item" id="create_ads">
                    <div class="menu_item_icon create_icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="menu_item_content">
                        <div class="menu_item_title">Создать объявление</div>
                        <div class="menu_item_desc">Разместите свое объявление</div>
                    </div>
                    <div class="menu_item_arrow">›</div>
                </div>

                <div class="menu_item" id="my_ads">
                    <div class="menu_item_icon ads_icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M3 7H21M3 7V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V7" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 11H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="menu_item_content">
                        <div class="menu_item_title">Мои объявления</div>
                        <div class="menu_item_desc">Управление и настройки</div>
                    </div>
                    <div class="menu_item_arrow">›</div>
                </div>

                <div class="menu_item" id="my_transactions">
                    <div class="menu_item_icon transactions_icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M8 6H21M8 12H21M8 18H21M3 6H3.01M3 12H3.01M3 18H3.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="menu_item_content">
                        <div class="menu_item_title">Мои сделки</div>
                        <div class="menu_item_desc">Все ваши транзакции</div>
                    </div>
                    <div class="menu_item_arrow">›</div>
                </div>

                <div class="menu_item" id="about_us">
                    <div class="menu_item_icon about_icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="menu_item_content">
                        <div class="menu_item_title">О нас</div>
                        <div class="menu_item_desc">Информация о сервисе</div>
                    </div>
                    <div class="menu_item_arrow">›</div>
                </div>
            </div>





        </div>
    </div>
    <!-- Экран деталей объявления для покупки -->
    <div class="ad_details_screen" id="ad-details-screen" style="display: none;">
        <div class="ad_details_container">
            <div class="ad_details_header">
                <button class="back_btn" id="back-from-details">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="ad_details_title">Детали объявления</h2>
            </div>

            <div class="ad_details_card" id="ad-details-card">
                <!-- Данные будут заполнены через JS -->
            </div>

            <div class="purchase_section">
                <label class="purchase_label">Сумма покупки</label>
                
                <!-- Переключатель валюты -->
                <div class="currency_toggle">
                    <button class="currency_toggle_btn" data-currency="RUB" id="toggle-rub">
                        RUB
                    </button>
                    <button class="currency_toggle_btn active" data-currency="CRYPTO" id="toggle-crypto">
                        <span id="toggle-crypto-text">USDT</span>
                    </button>
                </div>
                
                <div class="purchase_input_wrapper">
                    <input type="number" class="purchase_input" id="purchase-amount" placeholder="0.00" step="0.01" min="0">
                    <span class="purchase_currency" id="purchase-currency">RUB</span>
                </div>
                
                <!-- Быстрые кнопки сумм -->
                <div class="quick_amount_buttons" id="quick-amount-buttons">
                    <button class="quick_amount_btn" data-percent="25">25%</button>
                    <button class="quick_amount_btn" data-percent="50">50%</button>
                    <button class="quick_amount_btn" data-percent="75">75%</button>
                    <button class="quick_amount_btn" data-percent="100">100%</button>
                    <button class="quick_amount_btn quick_amount_btn_max" data-percent="max">Макс</button>
                </div>
                
                <!-- Подсказка по лимитам -->
                <div class="purchase_limits_hint" id="purchase-limits-hint">
                    <span class="limits_hint_text">Лимиты: <span id="limits-min">0</span> - <span id="limits-max">∞</span></span>
                </div>
                
                <div class="purchase_info" id="purchase-info">
                    <span class="purchase_info_text">Вы получите: <span id="crypto-amount">0.00</span> <span id="crypto-type">BTC</span></span>
                </div>
                
                <!-- Поля для реквизитов при продаже -->
                <div class="payment_details_section" id="seller-payment-details-section" style="display: none;">
                    <label class="purchase_label">Реквизиты для получения денег</label>
                    
                    <div class="payment_details_field">
                        <input type="text" class="payment_details_input" id="seller-bank-name" placeholder="Название банка (например: Сбербанк, Тинькофф)">
                    </div>
                    
                    <div class="payment_details_field">
                        <input type="text" class="payment_details_input" id="seller-payment-details" placeholder="Номер карты или телефона">
                    </div>
                </div>
            </div>

            <div class="purchase_footer">
                <button class="purchase_btn" id="confirm-purchase-btn">
                    Купить
                </button>
            </div>
        </div>
    </div>

    <!-- Экран с реквизитами для оплаты -->
    <div class="payment_screen" id="payment-screen" style="display: none;">
        <div class="payment_container">
            <div class="payment_header">
                <button class="back_btn" id="back-from-payment">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="payment_title">Оплата</h2>
            </div>

            <div class="payment_card">
                <div class="payment_amount_section">
                    <div class="payment_label">Сумма к переводу</div>
                    <div class="payment_amount" id="payment-amount">0.00 USDT</div>
                </div>

                <div class="payment_details_section">
                    <div class="payment_details_label">Реквизиты для перевода</div>
                    <div class="payment_details_content" id="payment-details">
                        <!-- Данные будут заполнены через JS -->
                    </div>
                    <button class="copy_btn" id="copy-payment-details">Скопировать реквизиты</button>
                </div>

                <div class="payment_warning">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>После перевода средств нажмите "Я перевел"</span>
                </div>
            </div>

            <div class="payment_footer">
                <button class="payment_confirm_btn" id="payment-confirmed-btn">
                    Я перевел средства
                </button>
            </div>
        </div>
    </div>

    <!-- Экран уведомлений -->
    <div class="notifications_screen" id="notifications-screen" style="display: none;">
        <div class="notifications_container">
            <div class="notifications_header">
                <button class="back_btn" id="back-from-notifications">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="notifications_title">Уведомления</h2>
            </div>

            <div class="notifications_list" id="notifications-list">
                <!-- Уведомления будут добавлены через JS -->
            </div>
        </div>
    </div>

    <!-- Экран подтверждения получения средств -->
    <div class="payment_received_screen" id="payment-received-screen" style="display: none;">
        <div class="payment_received_container">
            <div class="payment_received_header">
                <button class="back_btn" id="back-from-payment-received">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="payment_received_title">Получение средств</h2>
            </div>

            <div class="payment_received_card">
                <div class="payment_received_success_icon">✓</div>
                <div class="payment_received_amount_section">
                    <div class="payment_received_label">Вам перевели</div>
                    <div class="payment_received_amount" id="payment-received-amount">0.00 RUB</div>
                </div>

                <div class="payment_received_details_section">
                    <div class="payment_received_details_label">Детали сделки</div>
                    <div class="payment_received_details_content" id="payment-received-details">
                        <!-- Данные будут заполнены через JS -->
                    </div>
                </div>

                <div class="payment_received_warning">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>После проверки перевода нажмите "Подтвердить получение"</span>
                </div>
            </div>

            <div class="payment_received_footer">
                <button class="payment_received_confirm_btn" id="payment-received-confirm-btn">
                    Подтвердить получение
                </button>
            </div>
        </div>
    </div>

    <!-- Экран "О нас" -->
    <div class="about_screen" id="about-screen" style="display: none;">
        <div class="about_container">
            <div class="about_header">
                <button class="back_btn" id="back-from-about">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="about_title">О нас</h2>
            </div>

            <div class="about_content">
                <div class="about_section">
                    <div class="about_section_icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3 class="about_section_title">P2P Маркет</h3>
                    <p class="about_section_text">
                        Безопасная платформа для совершения P2P-сделок с криптовалютой. 
                        Мы предоставляем удобный и надежный сервис для покупки и продажи криптовалюты.
                    </p>
                </div>

                <div class="about_links">
                    <a href="https://t.me/your_channel" target="_blank" class="about_link_item" id="telegram-channel-link">
                        <div class="about_link_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM16.64 8.8C16.49 10.38 15.84 14.22 15.51 15.99C15.37 16.74 15.09 16.99 14.83 17.02C14.25 17.07 13.81 16.64 13.25 16.27C12.37 15.69 11.79 15.33 10.93 14.77C9.93 14.12 10.36 13.76 10.74 13.36C10.89 13.21 13.73 10.61 13.78 10.4C13.79 10.36 13.79 10.24 13.71 10.17C13.64 10.1 13.53 10.13 13.45 10.15C13.33 10.18 11.64 11.18 8.5 12.97C8.01 13.23 7.56 13.36 7.15 13.35C6.7 13.34 5.83 13.13 5.18 12.94C4.4 12.72 3.79 12.6 3.84 12.18C3.87 11.95 4.2 11.72 4.84 11.48C7.69 10.4 9.75 9.58 11.02 9.02C13.78 7.75 14.51 7.5 14.89 7.5C14.98 7.5 15.18 7.52 15.32 7.64C15.44 7.74 15.48 7.87 15.5 7.96C15.52 8.05 15.54 8.24 15.52 8.4L15.48 8.8H16.64Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="about_link_content">
                            <div class="about_link_title">Телеграм канал</div>
                            <div class="about_link_desc">Новости и обновления</div>
                        </div>
                        <div class="about_link_arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </a>

                    <a href="https://t.me/your_support" target="_blank" class="about_link_item" id="support-chat-link">
                        <div class="about_link_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="about_link_content">
                            <div class="about_link_title">Чат поддержки</div>
                            <div class="about_link_desc">Помощь и консультации</div>
                        </div>
                        <div class="about_link_arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </a>
                    
                    <a href="https://t.me/pravila" target="_blank" class="about_link_item" id="support-chat-link">
                        <div class="about_link_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="about_link_content">
                            <div class="about_link_title">Правила сервиса</div>
                            <div class="about_link_desc">Правила использования сервиса</div>
                        </div>
                        <div class="about_link_arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </a>
                    <a href="https://t.me/soglashenie" target="_blank" class="about_link_item" id="support-chat-link">
                        <div class="about_link_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="about_link_content">
                            <div class="about_link_title">Пользовательское соглашение</div>
                            <div class="about_link_desc">Условаия использования сервиса</div>
                        </div>
                        <div class="about_link_arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </a>
                    <!-- <button class="about_link_item" id="rules-link-btn">
                        <div class="about_link_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="about_link_content qwerty">
                            <div class="about_link_title">Правила сервиса</div>
                            <div class="about_link_desc">Как безопасно совершать сделки</div>
                        </div>
                        <div class="about_link_arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </button> -->
                </div>
            </div>
        </div>
    </div>

    <!-- Экран "Мои объявления" -->
    <!-- Экран Мои сделки -->
    <div class="my_transactions_screen" id="my-transactions-screen" style="display: none;">
        <div class="my_transactions_container">
            <div class="my_transactions_header">
                <button class="back_btn" id="back-from-transactions">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="my_transactions_title">Мои сделки</h2>
            </div>

            <div class="transactions_list" id="transactions-list">
                <!-- Сделки будут добавлены через JS -->
            </div>
        </div>
    </div>

    <!-- Экран деталей сделки -->
    <div class="transaction_details_screen" id="transaction-details-screen" style="display: none;">
        <div class="transaction_details_container">
            <div class="transaction_details_header">
                <button class="back_btn" id="back-from-transaction-details">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="transaction_details_title">Детали сделки</h2>
            </div>

            <div class="transaction_details_card" id="transaction-details-card">
                <!-- Данные будут заполнены через JS -->
            </div>

            <div class="transaction_actions" id="transaction-actions">
                <!-- Кнопки действий будут добавлены через JS -->
            </div>

        </div>
    </div>

    <div class="my_ads_screen" id="my-ads-screen" style="display: none;">
        <div class="my_ads_container">
            <div class="my_ads_header">
                <button class="back_btn" id="back-from-my-ads">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="my_ads_title">Мои объявления</h2>
            </div>

            <div class="my_ads_filters">
                <button class="filter_tab active" data-filter="all" id="filter-all">Все</button>
                <button class="filter_tab" data-filter="buy" id="filter-buy">Покупка</button>
                <button class="filter_tab" data-filter="sell" id="filter-sell">Продажа</button>
            </div>

            <div class="my_ads_list" id="my-ads-list">
                <!-- Объявления будут добавлены через JS -->
            </div>
        </div>
    </div>

    <div class="buy__screen" style="display: none;">
        <div class="buy__container">
            <div class="buy__header">
                <button class="back_btn" id="back-from-buy">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="buy__title">Купить криптовалюту</h2>
            </div>
            <!-- Фильтры -->
            <div class="filters__bar">
                <div class="filter__item filter__crypto" id="crypto-filter">
                    <div class="filter__header">
                        <div class="filter__header-content">
                            <span class="filter__label">Крипта</span>
                            <span class="filter__value">TON</span>
                        </div>
                        <span class="filter__arrow-icon">⇅</span>
                    </div>
                    <div class="filter__dropdown" id="crypto-dropdown">
                        <div class="dropdown__item" data-value="USDT">
                            <span>USDT</span>
                        </div>
                        <div class="dropdown__item dropdown__item--selected" data-value="TON">
                            <span class="checkmark">✓</span>
                            <span>TON</span>
                        </div>
                    </div>
                </div>
                
            </div>

            <!-- Поле суммы -->
            <div class="amount__input">
                <label>Сумма</label>
                <input class="amount__field" placeholder="10.00 RUB"></input>
            </div>

            <!-- Карточки объявлений -->
            <div class="listings__container">
                <!-- Карточка 1 -->
                <div class="listing__card">
                    <div class="listing__header">
                        <div class="listing__price">
                            <div class="price__main">177 RUB</div>
                            <div class="price__subtitle">Цена за 1 TON</div>
                        </div>
                        <div class="listing__actions">
                            
                            <button class="buy__btn">КУПИТЬ</button>
                        </div>
                    </div>
                    <div class="listing__seller">
                        <div class="seller__avatar" style="background-color: #5BA3D0;"></div>
                        <div class="seller__info">
                            <div class="seller__name">Posh Dragon</div>
                            <div class="seller__stats">сделок: 14 • 86%</div>
                        </div>
                    </div>
                    <div class="listing__details">
                        <div class="detail__row">
                            <span class="detail__label">Доступно</span>
                            <span class="detail__value">281,644 TON</span>
                        </div>
                        <div class="detail__row">
                            <span class="detail__label">Лимиты</span>
                            <span class="detail__value">49 851 – 49 851,15 RUB</span>
                        </div>
                        <div class="detail__row">
                            <span class="detail__label">Методы оплаты</span>
                            <span class="detail__value">Т-Банк (Тинькофф)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Экран продажи криптовалюты -->
    <div class="sell__screen" style="display: none;">
        <div class="sell__container">
            <div class="sell__header">
                <button class="back_btn" id="back-from-sell">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="sell__title">Продать криптовалюту</h2>
            </div>
            <!-- Фильтры -->
            <div class="filters__bar">
                <div class="filter__item filter__crypto" id="crypto-filter-sell">
                    <div class="filter__header">
                        <div class="filter__header-content">
                            <span class="filter__label">Крипта</span>
                            <span class="filter__value">TON</span>
                        </div>
                        <span class="filter__arrow-icon">⇅</span>
                    </div>
                    <div class="filter__dropdown" id="crypto-dropdown-sell">
                        <div class="dropdown__item" data-value="USDT">
                            <span>USDT</span>
                        </div>
                        <div class="dropdown__item dropdown__item--selected" data-value="TON">
                            <span class="checkmark">✓</span>
                            <span>TON</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Поле суммы -->
            <div class="amount__input">
                <label>Сумма</label>
                <input class="amount__field" placeholder="10.00 RUB"></input>
            </div>

            <!-- Карточки объявлений -->
            <div class="listings__container">
                <!-- Объявления будут добавлены через JS -->
            </div>
        </div>
    </div>

    <div class="create_ads_screen" style="display: none;">
        <div class="create_ads_container">
            <!-- Header -->
            <div class="create_ads_header">
                <button class="back_btn" id="back-from-create-ads">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h1 class="create_ads_title">Создайте объявление</h1>
                <span class="create_ads_progress">1/2</span>
            </div>

            <!-- Я хочу section -->
            <div class="create_ads_section">
                <div class="section_label_row">
                    <span class="section_label">Я хочу</span>
                    <div class="segmented_control">
                        <button class="segmented_btn" data-action="buy">Купить</button>
                        <button class="segmented_btn segmented_btn--active" data-action="sell">Продать</button>
                    </div>
                </div>
            </div>

            <!-- Advertisement Details -->
            <div class="ad_details_section">
                <div class="detail_row detail_row--selectable" id="crypto-select-row">
                    <span class="detail_label">Продать криптовалюту</span>
                    <div class="detail_value_wrapper crypto_select_wrapper">
                        <span class="detail_value" id="selected-crypto">USDT</span>
                        <span class="chevron">›</span>
                        <div class="crypto_dropdown" id="crypto-dropdown">
                            <div class="crypto_option" data-crypto="USDT">
                                <span>USDT</span>
                                <span class="checkmark" id="check-usdt">✓</span>
                            </div>
                            <div class="crypto_option" data-crypto="TON">
                                <span>TON</span>
                                <span class="checkmark" id="check-ton" style="display: none;">✓</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="detail_row">
                    <span class="detail_label">Национальная валюта</span>
                    <div class="detail_value_wrapper">
                        <span class="detail_value">RUB</span>
                    </div>
                </div>
            </div>

            <!-- Percentage of Market Price -->
            <div class="price_section">
                <label class="section_header">Фикс цена за (<span id="price-crypto-name">1 USDT</span>)</label>
                <div class="input_field">
                    <input type="text" class="single_input" id="price-range" placeholder="81,13" />
                    <span class="input_suffix" id="price-crypto-suffix">RUB</span>
                </div>
                <div class="info_text">
                    <div>Рыночная цена: <span id="market-price">81,13</span> ₽</div>
                    <div>Ваша цена: <span id="your-price">0,00</span> ₽</div>
                </div>
            </div>

            <!-- Amount Section -->
            <div class="amount_section">
                <label class="section_header">СУММА</label>
                <div class="input_field">
                    <input type="text" class="single_input" id="amount-range" placeholder="10 ~ 1000000" />
                    <span class="input_suffix" id="amount-crypto-suffix">USDT</span>
                </div>
                <div class="info_text">
                    <div>
                        Ваш баланс: <span id="balance-amount">0</span> <span id="balance-crypto">USDT</span>
                        <span class="max_link" id="max-amount-btn">Макс.</span>
                    </div>
                </div>
            </div>

            <!-- Min and Max Transaction Amount -->
            <div class="limits_section">
                <label class="section_header">МИН. И МАКС. СУММА СДЕЛКИ</label>
                <div class="input_field">
                    <input type="text" class="single_input" id="min-limit" placeholder="Мин. 100" />
                    <span class="input_suffix">RUB</span>
                </div>
                <div class="input_field">
                    <input type="text" class="single_input" id="max-limit" placeholder="Макс. (автоматически)" readonly />
                    <span class="input_suffix">RUB</span>
                </div>
                <div class="hint_text">Макс. рассчитывается автоматически: курс × количество</div>
            </div>

            <!-- Payment Details Section (only for selling) -->
            <div class="payment_details_section" id="payment-details-section" style="display: block;">
                <label class="section_header">РЕКВИЗИТЫ ДЛЯ ОПЛАТЫ</label>
                
                <!-- Payment Method Selection -->
                <div class="payment_method_selector">
                    <div class="payment_method_item" data-method="tinkoff">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Т-Банк (Тинькофф)</div>
                            <div class="payment_method_desc">Карта или номер телефона</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                    <div class="payment_method_item" data-method="sber">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Сбербанк</div>
                            <div class="payment_method_desc">Карта или номер телефона</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                    <div class="payment_method_item" data-method="alfabank">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Альфа-Банк</div>
                            <div class="payment_method_desc">Карта или номер телефона</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                    <div class="payment_method_item" data-method="ozonbank">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Озон - Банк</div>
                            <div class="payment_method_desc">Карта или номер телефона</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                    <div class="payment_method_item" data-method="custom">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 8V16M8 12H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Другой банк</div>
                            <div class="payment_method_desc">Укажите свой банк</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                </div>

                <!-- Custom Bank Name Input (shown when "custom" is selected) -->
                <div class="custom_bank_wrapper" id="custom-bank-wrapper" style="display: none;">
                    <label class="section_subheader">Название банка</label>
                    <div class="input_field">
                        <input type="text" class="single_input" id="custom-bank-name" placeholder="Введите название банка" />
                    </div>
                </div>

                <!-- Payment Details Input -->
                <div class="payment_input_wrapper">
                    <label class="section_subheader">Реквизиты</label>
                    <div class="input_field">
                        <input type="text" class="single_input" id="payment-details2" placeholder="Введите номер карты или телефона" />
                    </div>
                    <div class="hint_text">Укажите реквизиты для получения платежей. Эти данные увидит покупатель.</div>
                </div>
            </div>

            <div class="footer_create_ads">
                <div class="footer_btn">
                    <button id="next-btn">
                        Далее
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Preview Screen -->
    <div class="preview_screen" style="display: none;">
        <div class="preview_container">
            <div class="preview_header">
                <button class="back_btn" id="back-from-preview">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="preview_title">Предпросмотр объявления</h2>
            </div>

            <!-- Preview Card -->
            <div class="preview_card_wrapper">
                <div class="preview_label">Так будет выглядеть ваше объявление:</div>
                
                <div class="preview_listing_card">
                    <div class="preview_card_header">
                        <div class="preview_badge" id="preview-action-badge">ПРОДАЖА</div>
                        <div class="preview_crypto_pair">
                            <span class="preview_crypto" id="preview-crypto">USDT</span>
                            <span class="preview_arrow">→</span>
                            <span class="preview_currency">RUB</span>
                        </div>
                    </div>

                    <div class="preview_price_section">
                        <div class="preview_price_label">Цена за 1 <span id="preview-price-crypto">USDT</span></div>
                        <div class="preview_price_value">
                            <span id="preview-price-amount">0.00</span> ₽
                        </div>
                    </div>

                    <div class="preview_details">
                        <div class="preview_detail_row">
                            <span class="preview_detail_label">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M8 14.5C4.41 14.5 1.5 11.59 1.5 8C1.5 4.41 4.41 1.5 8 1.5C11.59 1.5 14.5 4.41 14.5 8C14.5 11.59 11.59 14.5 8 14.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M8 5.5V8.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6 8.5H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Доступно
                            </span>
                            <span class="preview_detail_value" id="preview-available-amount">0 USDT</span>
                        </div>
                        <div class="preview_detail_row">
                            <span class="preview_detail_label">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M5.5 6.5V3.5C5.5 2.67 6.17 2 7 2H13C13.83 2 14.5 2.67 14.5 3.5V9.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M10.5 9.5H3C2.17 9.5 1.5 10.17 1.5 11V12.5C1.5 13.33 2.17 14 3 14H10.5C11.33 14 12 13.33 12 12.5V11C12 10.17 11.33 9.5 10.5 9.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Лимиты
                            </span>
                            <span class="preview_detail_value" id="preview-limits">100 – 1,000,000 RUB</span>
                        </div>
                        <div class="preview_detail_row">
                            <span class="preview_detail_label">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M14.5 5.5H1.5C1.22 5.5 1 5.72 1 6V13C1 13.83 1.67 14.5 2.5 14.5H13.5C14.33 14.5 15 13.83 15 13V6C15 5.72 14.78 5.5 14.5 5.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M4 5.5V3.5C4 2.67 4.67 2 5.5 2H10.5C11.33 2 12 2.67 12 3.5V5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Метод оплаты
                            </span>
                            <span class="preview_detail_value">Т-Банк (Тинькофф)</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Section -->
            <div class="preview_info_box">
                <div class="preview_info_icon">ℹ️</div>
                <div class="preview_info_text">
                    <div class="preview_info_title">Перед публикацией</div>
                    <div class="preview_info_desc">Убедитесь, что все данные указаны верно. После создания объявления оно станет доступно всем пользователям.</div>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer_preview">
                <div class="footer_btn">
                    <button id="create-listing-btn">
                        Создать объявление
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Визуальный логгер для отладки на мобильных устройствах -->
    <div id="debug-logger" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.9); color: white; padding: 10px; max-height: 200px; overflow-y: auto; z-index: 10000; font-size: 10px; font-family: monospace;">
        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
            <strong>Debug Log</strong>
            <button onclick="document.getElementById('debug-logger').style.display='none'" style="background: red; color: white; border: none; padding: 2px 10px; cursor: pointer;">✕</button>
        </div>
        <div id="debug-log-content"></div>
    </div>
    
    <!-- <script>
        // Визуальный логгер для мобильных устройств
        (function() {
            const loggerDiv = document.getElementById('debug-logger');
            const logContent = document.getElementById('debug-log-content');
            let logCount = 0;
            const maxLogs = 50;
            
            // Перехватываем console.log, console.error, console.warn
            const originalLog = console.log;
            const originalError = console.error;
            const originalWarn = console.warn;
            
            function addLog(type, ...args) {
                // Вызываем оригинальный метод
                if (type === 'log') originalLog.apply(console, args);
                if (type === 'error') originalError.apply(console, args);
                if (type === 'warn') originalWarn.apply(console, args);
                
                // Добавляем в визуальный логгер
                const logEntry = document.createElement('div');
                logEntry.style.marginBottom = '3px';
                logEntry.style.padding = '2px';
                logEntry.style.borderLeft = '2px solid ' + (type === 'error' ? 'red' : type === 'warn' ? 'yellow' : 'green');
                logEntry.style.paddingLeft = '5px';
                
                const timestamp = new Date().toLocaleTimeString();
                const message = args.map(arg => {
                    if (typeof arg === 'object') return JSON.stringify(arg, null, 2);
                    return String(arg);
                }).join(' ');
                
                logEntry.innerHTML = `<span style="color: #888;">[${timestamp}]</span> <span style="color: ${type === 'error' ? 'red' : type === 'warn' ? 'yellow' : 'white'};">${message}</span>`;
                
                logContent.appendChild(logEntry);
                logCount++;
                
                // Удаляем старые логи
                if (logCount > maxLogs) {
                    logContent.removeChild(logContent.firstChild);
                    logCount--;
                }
                
                // Прокручиваем вниз
                logContent.scrollTop = logContent.scrollHeight;
                
                // Показываем логгер при ошибках
                if (type === 'error') {
                    loggerDiv.style.display = 'block';
                }
            }
            
            console.log = function(...args) {
                addLog('log', ...args);
            };
            
            console.error = function(...args) {
                addLog('error', ...args);
            };
            
            console.warn = function(...args) {
                addLog('warn', ...args);
            };
            
            // Добавляем кнопку для показа/скрытия логгера
            const toggleBtn = document.createElement('button');
            toggleBtn.innerHTML = '📋';
            toggleBtn.style.cssText = 'position: fixed; top: 10px; right: 10px; z-index: 10001; background: rgba(0,0,0,0.7); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 20px; cursor: pointer;';
            toggleBtn.onclick = function() {
                loggerDiv.style.display = loggerDiv.style.display === 'none' ? 'block' : 'none';
            };
            document.body.appendChild(toggleBtn);
            
            console.log('Визуальный логгер инициализирован');
        })();
    </script> -->

    <!-- Админ панель -->
    <div class="admin_panel_screen" id="admin-panel-screen" style="display: none;">
        <div class="admin_panel_container">
            <div class="admin_panel_header">
                <button class="back_btn" id="back-from-admin-panel">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <h2 class="admin_panel_title">Админ панель</h2>
            </div>

            <div class="admin_panel_tabs">
                <button class="admin_tab active" data-tab="statistics">Статистика</button>
            </div>

            <!-- Вкладка статистики -->
            <div class="admin_tab_content active" id="admin-tab-statistics">
                <div class="admin_statistics_grid">
                    <div class="admin_stat_card">
                        <div class="admin_stat_icon">👥</div>
                        <div class="admin_stat_info">
                            <div class="admin_stat_label">Пользователей</div>
                            <div class="admin_stat_value" id="stat-total-users">-</div>
                        </div>
                    </div>
                    <div class="admin_stat_card">
                        <div class="admin_stat_icon">📋</div>
                        <div class="admin_stat_info">
                            <div class="admin_stat_label">Объявлений</div>
                            <div class="admin_stat_value" id="stat-total-ads">-</div>
                            <div class="admin_stat_subvalue" id="stat-active-ads">Активных: -</div>
                        </div>
                    </div>
                    <div class="admin_stat_card">
                        <div class="admin_stat_icon">💼</div>
                        <div class="admin_stat_info">
                            <div class="admin_stat_label">Сделок</div>
                            <div class="admin_stat_value" id="stat-total-transactions">-</div>
                            <div class="admin_stat_subvalue" id="stat-completed-transactions">Завершено: -</div>
                        </div>
                    </div>
                    <div class="admin_stat_card">
                        <div class="admin_stat_icon">💰</div>
                        <div class="admin_stat_info">
                            <div class="admin_stat_label">Оборот</div>
                            <div class="admin_stat_value" id="stat-total-volume">- RUB</div>
                            <div class="admin_stat_subvalue" id="stat-crypto-volume">Крипта: -</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="index.js"></script>
</body>
</html>
