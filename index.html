<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>peer-to-peer</title>
</head>
<body>
    <div class="main__screen" id="main__screen">
        <div class="container__main">
            <div class="header__main">
                <div class="content__main">
                    <img src="./image/marketimg.svg" alt="logo" class="logo__header">
                    <h3>P2P Маркет</h3>
                    <p>Покупайте и продавайте криптовалюты без верефицикаций</p>
                </div>
                <div class="btn__main">
                    <button id="btn-for-buycrpyto">Купить</button>
                    <button id="btn-for-sellcrpyto">Продать</button>
                </div>
            </div>
            <div class="btn_market_main">
                <div class="item__main" id="my_ads">
                    <img src="./image/account_icon.svg" alt="">  

                    <div class="content__item">
                        <h3>Мои обьявления</h3>
                        <p>Настройки обьявлений и платежей</p>
                    </div>
                </div>
                <div class="item__main" id="create_ads">
                    <img src="./image/add+.svg" alt="">  

                    <div class="content__item">
                        <h3 class="new_ask">Создать обьявление</h3>
                    </div>
                </div>
            </div>





        </div>
    </div>
    <div class="buy__screen" style="display: none;">
        <div class="buy__container">
            <!-- Фильтры -->
            <div class="filters__bar">
                <div class="filter__item filter__crypto" id="crypto-filter">
                    <div class="filter__header">
                        <div class="filter__header-content">
                            <span class="filter__label">Крипта</span>
                            <span class="filter__value">TON</span>
                        </div>
                        <span class="filter__arrow-icon">⇅</span>
                    </div>
                    <div class="filter__dropdown" id="crypto-dropdown">
                        <div class="dropdown__item" data-value="USDT">
                            <span>USDT</span>
                        </div>
                        <div class="dropdown__item dropdown__item--selected" data-value="TON">
                            <span class="checkmark">✓</span>
                            <span>TON</span>
                        </div>
                        <div class="dropdown__item" data-value="BTC">
                            <span>BTC</span>
                        </div>
                        <div class="dropdown__item" data-value="ETH">
                            <span>ETH</span>
                        </div>
                        <div class="dropdown__item" data-value="NOT">
                            <span>NOT</span>
                        </div>
                    </div>
                </div>
                
            </div>

            <!-- Поле суммы -->
            <div class="amount__input">
                <label>Сумма</label>
                <input class="amount__field" placeholder="10.00 RUB"></input>
            </div>

            <!-- Карточки объявлений -->
            <div class="listings__container">
                <!-- Карточка 1 -->
                <div class="listing__card">
                    <div class="listing__header">
                        <div class="listing__price">
                            <div class="price__main">177 RUB</div>
                            <div class="price__subtitle">Цена за 1 TON</div>
                        </div>
                        <div class="listing__actions">
                            
                            <button class="buy__btn">КУПИТЬ</button>
                        </div>
                    </div>
                    <div class="listing__seller">
                        <div class="seller__avatar" style="background-color: #5BA3D0;"></div>
                        <div class="seller__info">
                            <div class="seller__name">Posh Dragon</div>
                            <div class="seller__stats">сделок: 14 • 86%</div>
                        </div>
                    </div>
                    <div class="listing__details">
                        <div class="detail__row">
                            <span class="detail__label">Доступно</span>
                            <span class="detail__value">281,644 TON</span>
                        </div>
                        <div class="detail__row">
                            <span class="detail__label">Лимиты</span>
                            <span class="detail__value">49 851 – 49 851,15 RUB</span>
                        </div>
                        <div class="detail__row">
                            <span class="detail__label">Методы оплаты</span>
                            <span class="detail__value">Т-Банк (Тинькофф)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="create_ads_screen" style="display: none;">
        <div class="create_ads_container">
            <!-- Header -->
            <div class="create_ads_header">
                <h1 class="create_ads_title">Создайте объявление</h1>
                <span class="create_ads_progress">1/2</span>
            </div>

            <!-- Я хочу section -->
            <div class="create_ads_section">
                <div class="section_label_row">
                    <span class="section_label">Я хочу</span>
                    <div class="segmented_control">
                        <button class="segmented_btn" data-action="buy">Купить</button>
                        <button class="segmented_btn segmented_btn--active" data-action="sell">Продать</button>
                    </div>
                </div>
            </div>

            <!-- Advertisement Details -->
            <div class="ad_details_section">
                <div class="detail_row detail_row--selectable" id="crypto-select-row">
                    <span class="detail_label">Продать криптовалюту</span>
                    <div class="detail_value_wrapper crypto_select_wrapper">
                        <span class="detail_value" id="selected-crypto">USDT</span>
                        <span class="chevron">›</span>
                        <div class="crypto_dropdown" id="crypto-dropdown">
                            <div class="crypto_option" data-crypto="USDT">
                                <span>USDT</span>
                                <span class="checkmark" id="check-usdt">✓</span>
                            </div>
                            <div class="crypto_option" data-crypto="TON">
                                <span>TON</span>
                                <span class="checkmark" id="check-ton" style="display: none;">✓</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="detail_row">
                    <span class="detail_label">Национальная валюта</span>
                    <div class="detail_value_wrapper">
                        <span class="detail_value">RUB</span>
                    </div>
                </div>
            </div>

            <!-- Percentage of Market Price -->
            <div class="price_section">
                <label class="section_header">Фикс цена за (<span id="price-crypto-name">1 USDT</span>)</label>
                <div class="input_field">
                    <input type="text" class="single_input" id="price-range" placeholder="81,13" />
                    <span class="input_suffix" id="price-crypto-suffix">RUB</span>
                </div>
                <div class="info_text">
                    <div>Рыночная цена: <span id="market-price">81,13</span> ₽</div>
                    <div>Ваша цена: <span id="your-price">0,00</span> ₽</div>
                </div>
            </div>

            <!-- Amount Section -->
            <div class="amount_section">
                <label class="section_header">СУММА</label>
                <div class="input_field">
                    <input type="text" class="single_input" id="amount-range" placeholder="10 ~ 1000000" />
                    <span class="input_suffix" id="amount-crypto-suffix">USDT</span>
                </div>
                <div class="info_text">
                    <div>
                        Ваш баланс: <span id="balance-amount">0</span> <span id="balance-crypto">USDT</span>
                        <span class="max_link" id="max-amount-btn">Макс.</span>
                    </div>
                </div>
            </div>

            <!-- Min and Max Transaction Amount -->
            <div class="limits_section">
                <label class="section_header">МИН. И МАКС. СУММА СДЕЛКИ</label>
                <div class="input_field">
                    <input type="text" class="single_input" id="min-limit" placeholder="Мин. 100" />
                    <span class="input_suffix">RUB</span>
                </div>
                <div class="input_field">
                    <input type="text" class="single_input" id="max-limit" placeholder="Макс." />
                    <span class="input_suffix">RUB</span>
                </div>
                <div class="hint_text">Макс. можно не указывать.</div>
            </div>

            <!-- Payment Details Section (only for selling) -->
            <div class="payment_details_section" id="payment-details-section" style="display: block;">
                <label class="section_header">РЕКВИЗИТЫ ДЛЯ ОПЛАТЫ</label>
                
                <!-- Payment Method Selection -->
                <div class="payment_method_selector">
                    <div class="payment_method_item" data-method="tinkoff">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Т-Банк (Тинькофф)</div>
                            <div class="payment_method_desc">Карта или номер телефона</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                    <div class="payment_method_item" data-method="sber">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Сбербанк</div>
                            <div class="payment_method_desc">Карта или номер телефона</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                    <div class="payment_method_item" data-method="alfabank">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Альфа-Банк</div>
                            <div class="payment_method_desc">Карта или номер телефона</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                    <div class="payment_method_item" data-method="ozonbank">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="4" width="20" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 10H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Озон - Банк</div>
                            <div class="payment_method_desc">Карта или номер телефона</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                    <div class="payment_method_item" data-method="custom">
                        <div class="payment_method_icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 8V16M8 12H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="payment_method_info">
                            <div class="payment_method_name">Другой банк</div>
                            <div class="payment_method_desc">Укажите свой банк</div>
                        </div>
                        <div class="payment_method_check">
                            <span class="checkmark">✓</span>
                        </div>
                    </div>
                </div>

                <!-- Custom Bank Name Input (shown when "custom" is selected) -->
                <div class="custom_bank_wrapper" id="custom-bank-wrapper" style="display: none;">
                    <label class="section_subheader">Название банка</label>
                    <div class="input_field">
                        <input type="text" class="single_input" id="custom-bank-name" placeholder="Введите название банка" />
                    </div>
                </div>

                <!-- Payment Details Input -->
                <div class="payment_input_wrapper">
                    <label class="section_subheader">Реквизиты</label>
                    <div class="input_field">
                        <input type="text" class="single_input" id="payment-details" placeholder="Введите номер карты или телефона" />
                    </div>
                    <div class="hint_text">Укажите реквизиты для получения платежей. Эти данные увидит покупатель.</div>
                </div>
            </div>

            <div class="footer_create_ads">
                <div class="footer_btn">
                    <button id="next-btn">
                        Далее
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Preview Screen -->
    <div class="preview_screen" style="display: none;">
        <div class="preview_container">
            <!-- Header -->
            <div class="preview_header">
                <button class="back_btn" id="back-from-preview">
                    <span class="back_arrow">‹</span>
                </button>
                <h1 class="preview_title">Предпросмотр</h1>
                <span class="preview_progress">2/2</span>
            </div>

            <!-- Preview Card -->
            <div class="preview_card_wrapper">
                <div class="preview_label">Так будет выглядеть ваше объявление:</div>
                
                <div class="preview_listing_card">
                    <div class="preview_card_header">
                        <div class="preview_badge" id="preview-action-badge">ПРОДАЖА</div>
                        <div class="preview_crypto_pair">
                            <span class="preview_crypto" id="preview-crypto">USDT</span>
                            <span class="preview_arrow">→</span>
                            <span class="preview_currency">RUB</span>
                        </div>
                    </div>

                    <div class="preview_price_section">
                        <div class="preview_price_label">Цена за 1 <span id="preview-price-crypto">USDT</span></div>
                        <div class="preview_price_value">
                            <span id="preview-price-amount">0.00</span> ₽
                        </div>
                    </div>

                    <div class="preview_details">
                        <div class="preview_detail_row">
                            <span class="preview_detail_label">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M8 14.5C4.41 14.5 1.5 11.59 1.5 8C1.5 4.41 4.41 1.5 8 1.5C11.59 1.5 14.5 4.41 14.5 8C14.5 11.59 11.59 14.5 8 14.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M8 5.5V8.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6 8.5H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Доступно
                            </span>
                            <span class="preview_detail_value" id="preview-available-amount">0 USDT</span>
                        </div>
                        <div class="preview_detail_row">
                            <span class="preview_detail_label">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M5.5 6.5V3.5C5.5 2.67 6.17 2 7 2H13C13.83 2 14.5 2.67 14.5 3.5V9.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M10.5 9.5H3C2.17 9.5 1.5 10.17 1.5 11V12.5C1.5 13.33 2.17 14 3 14H10.5C11.33 14 12 13.33 12 12.5V11C12 10.17 11.33 9.5 10.5 9.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Лимиты
                            </span>
                            <span class="preview_detail_value" id="preview-limits">100 – 1,000,000 RUB</span>
                        </div>
                        <div class="preview_detail_row">
                            <span class="preview_detail_label">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M14.5 5.5H1.5C1.22 5.5 1 5.72 1 6V13C1 13.83 1.67 14.5 2.5 14.5H13.5C14.33 14.5 15 13.83 15 13V6C15 5.72 14.78 5.5 14.5 5.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M4 5.5V3.5C4 2.67 4.67 2 5.5 2H10.5C11.33 2 12 2.67 12 3.5V5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Метод оплаты
                            </span>
                            <span class="preview_detail_value">Т-Банк (Тинькофф)</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Section -->
            <div class="preview_info_box">
                <div class="preview_info_icon">ℹ️</div>
                <div class="preview_info_text">
                    <div class="preview_info_title">Перед публикацией</div>
                    <div class="preview_info_desc">Убедитесь, что все данные указаны верно. После создания объявления оно станет доступно всем пользователям.</div>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer_preview">
                <div class="footer_btn">
                    <button id="create-listing-btn">
                        Создать объявление
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="index.js"></script>
</body>
</html>
